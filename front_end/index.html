<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Voice Analytics POC</title>
  <!-- <link rel="shortcut icon" href="resources/favicon.ico" type="image/vnd.microsoft.icon"> -->
  <link rel="stylesheet" href="styles.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="myscripts.js"></script>
  <script src="elementsQuery.js"></script>


  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</head>

<body>
  <div class="jumbotron text-center" style="margin-bottom:0">
    <!-- <h1> <img src="resources/logo.png" , style="height:70px; width:230px; " , alt="Sample logo"> </h1> -->
    <p>Call Center Speech Analytics</p>
  </div>
  <div class="container" style="margin-top:30px">
    <div class="row">
      <div class="col-sm-1"></div>
      <div class="col-sm-10">
        <nav class="navbar navbar-expand-sm  navbar-dark" style="background-color: #4C4D68; ">
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="collapsibleNavbar">
            <div class="navbar-header">
              <a class="navbar-brand" href="#">
                <!-- <img src="resources/logo.png" style="height:50px; width:100px;" alt="Sample logo"> -->
              </a>
            </div>

            <ul class="nav nav-tabs" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#home">Home</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link   " data-toggle="tab" href="#menu1">Step 1</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#menu2">Step 2</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#menu3">Step 3</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#menu4">Step 4</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#menu5">Step 5</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#menu6">Step 6</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#menu7">Step 7</a>
              </li>
            </ul>
          </div>
        </nav>

        <!-- Tab panes -->
        <div class="tab-content">
          <!-- Home Tab -->
          <div id="home" class="container tab-pane active"><br>
            <h3>Proof of Concept</h3>
            <p>This Asset is aimed to improve the user experience of call center platform. Among the many areas of focus is the call center experience, specifically the inbound calls. Potential benefits from analyzing call center records relates to:
              <ul>
                <li>Transcribing the calls and identifying keywords and phrases, to detect persistent problems</li>
                <li>Detecting the sentiment of the caller and suggesting communication approach to the agents</li>
                <li>Searching and detecting the communication patterns that lead to positive feedback from the caller</p></li>
              </ul>
            </p>
            <p>The following proof of concept demonstrates a 7 step visual pipeline to show how it will be implemented in the backend, when we go to production.</p>
              
            <h3>Serverless Architecture</h3>
            <div class="fakeimg"><img src="resources/POCNewArchitecture.png" class="img-fluid" alt="Responsive image">
            </div><br>
          </div>
          <!-- Menu1 Tab -->
          <div id="menu1" class="container tab-pane fade"><br>
            <h3>Step 1: Upload your audio</h3>
            <p><strong>Instructions:</strong> Upload an audio file from your local computer in the format of <strong>.wav</strong> or <strong>.mp3</strong>.</p>
            <div class="file_upload_list">
              <ul>
                <li style="list-style: none;">
                  <div class="file_item">
                    <div class="format">
                      <p>Audio</p>
                    </div>
                    <div class="file_progress">
                      <div class="file_info">

                        <div class="file_size_wrap">
                          <div class="file_size"></div>

                        </div>
                      </div>
                      <div class="progress">
                        <div class="inner_progress" style="width: 100%;"></div>
                      </div>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
            <form id="uploadAudioForm">
              <div class="choose_file">
                <label for="file-upload">
                  <span id="file-selected">
                    Select a file to upload
                  </span>
                  <input id="file-upload" type="file" name="file-upload">

                </label>

                <div>
                  <input type="submit" class="btn btn-success " style="background-color: #A53388; color: white;" ,
                    name="submit" value="Submit">
                  <!-- <input class="btn btn-primary" , type="reset" value="reset">-->
                </div>
              </div>
            </form>
            <!-- Menu2 Tab -->
          </div>
          <div id="menu2" class="container tab-pane fade"><br>
            <h3>Step 2: View all uploaded files </h3>
            <p><strong>Instructions: </strong>Copy a single file name of any audio file listed below for the next step.</p>
            <p><strong>Note: </strong>If you have uploaded an audio file from Step 1, you should see your file from the list below.</p>
            <div>
              <ol id="audio-files" class="audio-files"> </ol>
            </div>
            <button class="btn btn-block" style="background-color: #A53388; color: white;" , type="button"
              onclick="listAudioFiles()">Show</button>
          </div>
          <!-- Menu3 Tab -->
          <div id="menu3" class="container tab-pane fade"><br>
            <h3>Step 3: Select the file to process</h3>
            <p><strong>Instructions: </strong>Paste the file name of the audio file retrieved from Step 2 and click "Submit"</p>
            <p><strong>Note: </strong>This step will trigger the transcribe job, which will convert your audio file to text. Depending on the file size, it might take a while to finish. Feel free to skip to Step 5 to check the status of your job.</p>
            <p><strong>Example: </strong> A .wav file of size 22 mb (around 3 minutes of speech) took around 40 seconds to complete</p>
            <div class="form-group">
              <input type="text" id="transcribeAudioFile" name="transcribeAudioFile" placeholder="Add a file name"
                class="form-control" value="">
            </div>
            <button class="btn btn-success btn-block" style="background-color: #A53388; color: white;" , type="button"
              onclick="triggerTrancsribeJob(document.getElementById('transcribeAudioFile').value)">
              Submit
            </button>
          </div>
          <!-- Menu4 Tab -->
          <div id="menu4" class="container tab-pane fade"><br>
            <h3>Step 4: View all processed files</h3>
            <p><strong>Optional Step: </strong>This step provides a list of all the transcribe jobs that has been run in the past. You can copy any of the job files (ending with .json) and paste it in Step 5 to observe the transcribe result.</p>
            <p><string>Note 1: </string>If you have triggered a transcribe job in Step 3, you will see the job ID on the top of this list once the job is completed.</p>
            <p><strong>Note 2: </strong>The format of the transribe job name is "transcribe-lambda-trigger-%date%-gmt-%time%"</p>
            <div>
              <ol id="transcribe-output-files" class="transcribe-output-files"> </ol>
            </div>
            <button class="btn btn-info btn-block" style="background-color: #A53388; color: white;" , type="button"
              onclick="listTranscribeOutputFiles()">Show</button>
          </div>
          <!-- Menu5 Tab -->
          <div id="menu5" class="container tab-pane fade"><br>
            <h3>Step 5: Transcription results</h3>
            <p><strong>Instructions: </strong>Input a transcribe job name from the list in Step 4 or, if you have triggered a transcribe job in Step 3, the transciption job name will automatically be populated in the field below. </p>
            <p>
              <strong>Description: </strong>
              The transcription result have the following outcomes:
              <ul>
                <li>Convert speech data (wav or mp3) into text data.</li>
                <li>Identifies different speakers within the audio files (if there are multiple speakers).</li>
                <li>Provides a confidence score for each word. Words that are highlighted in yellow has a confidence threshold between 50%-80%, while red is less than 50%. No color means the transcribe model is highly confident that word transformed from audio is correct.</li>
              </ul>
            </p>
            <p><strong>Note: </strong>The format of the transribe job name is "transcribe-lambda-trigger-%date%-gmt-%time%"</p>
            <div class="form-group">
              <input class="form-control" type="text" id="transcribeJobName" name="transcribeJobName"
                placeholder="Insert Transcribe Job Name here" value="">
              <br>
              <div class="form-group">
                <button class="btn btn-success btn-block" style="background-color: #A53388; color: white;" ,
                  type="button" onclick="getTranscriptResult()">Show
                  Transcription Result</button>
                <br><br><br>
                <p id="transcribeStatus"></p>
                <h5 id="speaker_identified"></h5>
                <hr style="border-bottom: 2px dashed #8178d3;">
                </hr>
                <table class="table" id="transcribe-table">
                  <tbody class="table-hover">
                    <tr>
                      <thead class="thead-dark">
                        <th>Speaker</th>
                        <th>Transcribe</th>
                      </thead>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <!-- Menu6 Tab -->
          <div id="menu6" class="container tab-pane fade"><br>
            <h3>Step 6: Comprehension results</h3>
            <p><strong>Instructions: </strong>Insert any text within the textbox to perform a comprehend job.</p>
            <p><strong>Description: </strong>The comprehend result have the following outcomes:
              <ul>
                <li>Evaluate the sentiment of the text (Postive, Negative or Neutral).</li>
                <li>Identify any PII information if it exists within the text.</li>
                <li>Identity entities (currently using in-build amazon list) which may be useful for insights or topic modelling.</li>
              </ul>
            </p>
            <p><strong>Note: </strong>If you have triggered a transcribe job from Step 4, the comprehend text field will be automatically populated with the text data extracted from the audio file.</p>
            <textarea class="form-control" id="transcribeOutput"> </textarea>
            <br>
            <div class="form-group">
              <button class="btn btn-success btn-block" style="background-color: #A53388; color: white;" , type="button"
                onclick="getComprehendResult()">Show Comprehend
                Result</button>
              <br><br>
            </div>
            <div id="comprehend-result">
              <div>
                <h4 class="text-center">Sentiment Information</h4>
                <h5 id="sentimentResult"></h5>
                <table class="table" id="sentimentTable">
                  <tbody class="table-hover">
                    <tr>
                      <thead class="thead-dark">
                        <th>Sentiment</th>
                        <th>Score</th>
                      </thead>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div>
                <h4 class="text-center">PII Information</h4>
                <table class="table" id="piiTable">
                  <tbody>
                    <tr>
                      <thead class="thead-dark">
                        <th>Text</th>
                        <th>Type</th>
                        <th>Score</th>
                      </thead>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div>
                <h4 class="text-center">Entity Information</h4>
                <table class="table" id="entityTable">
                  <tbody>
                    <tr>
                      <thead class="thead-dark">
                        <th>Text</th>
                        <th>Type</th>
                        <th>Score</th>
                      </thead>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <!-- Menu7 Tab -->
          <div id="menu7" class="container tab-pane fade"><br>
            <h3>Step 7: Document Search</h3>
            <p><strong>Instructions: </strong>Insert any search term to find relevant documents that has been processed by transcribe job.</p>
            <p><strong>Note: </strong>You can search for keywords such as "positive, negative, neutral", to identify documents with the corresponding sentiments.</p>
            <div class="form-group">
              <input class="form-control" type="text" id="kendraQueryText" name="kendraQueryText"
                placeholder="Insert search term here" value="">
              <br>
              <div class="form-group">
                <button class="btn btn-success btn-block" style="background-color: #A53388; color: white;" ,
                  type="button" onclick="kendraQuery()">Search</button>
                <br><br><br>
                <hr style="border-bottom: 2px dashed #8178d3;">
                </hr>
                <table class="table" id="kendra-table">
                </table>
              </div>
            </div>
          </div>
          <!-- End of tabs-->
        </div>
      </div>
    </div>
  </div>
  <br><br><br><br><br><br><br><br><br><br><br>
  <!-- Footer -->
  <div class="jumbotron text-center bg-primary" style="margin-bottom:0">
    <!-- <img src="resources/logo.png" , style="height:45px; width:170px; " , alt="Sample logo"> -->
    <br><br>
    <p style="font-size: 8px; color: white;">2022 MIT Licence
    </p>
  </div>
</body>

</html>